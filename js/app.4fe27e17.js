(function(){"use strict";var t={6154:function(t,e,n){var o=n(9242),r=(n(6699),n(3396)),a=n(7139);const l={id:"app"},c=(0,r._)("h1",null,"Writing NFT Social Graph",-1),i=(0,r.Uk)(" Get "),s=(0,r._)("option",{value:"creator"},"Creator",-1),u=(0,r._)("option",{value:"collector"},"Collector",-1),p=[s,u],f=(0,r.Uk)(" Of "),h={key:0},d={key:1},g=(0,r._)("tr",null,[(0,r._)("th",null,"Account"),(0,r._)("th",null,"Total Count"),(0,r._)("th",null,"Collections"),(0,r._)("th",null,"Total Value")],-1),_=["href"],v={key:2};function w(t,e,n,s,u,w){return(0,r.wg)(),(0,r.iD)("div",l,[c,(0,r._)("div",null,[(0,r._)("label",null,[i,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.type=t)},p,512),[[o.bM,u.type]]),f,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.account=t),type:"text",size:"40"},null,512),[[o.nr,u.account]])]),(0,r._)("button",{onClick:e[2]||(e[2]=t=>w.load())},"Load")]),u.responseType?((0,r.wg)(),(0,r.iD)("h3",h,(0,a.zw)(u.responseType)+" of "+(0,a.zw)(u.account),1)):(0,r.kq)("",!0),u.response?((0,r.wg)(),(0,r.iD)("table",d,[g,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.response.filter((({account:t})=>!u.ignoreList.includes(t))),(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.account},[(0,r._)("td",null,(0,a.zw)(t.account),1),(0,r._)("td",null,(0,a.zw)(t.count),1),(0,r._)("table",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.collections,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.class_id},[(0,r._)("td",null,[(0,r._)("a",{href:t.external_url,target:"_blank"},(0,a.zw)(t.name),9,_)]),(0,r._)("td",null,[(0,r._)("strong",null,(0,a.zw)(t.count),1),(0,r.Uk)(" x "+(0,a.zw)(t.price),1)])])))),128))]),(0,r._)("td",null,(0,a.zw)(t.totalValue)+" LIKE",1)])))),128))])):((0,r.wg)(),(0,r.iD)("p",v,"No response"))])}var k=n(6265),y=n.n(k);const m="https://like.wancat.cc",b="https://api.like.co",O=["like17m4vwrnhjmd20uu7tst7nv0kap6ee7js69jfrs"],z=new Map;function T(t){return z.has(t)||z.set(t,y().get(b+"/likernft/purchase",{params:{class_id:t}}).then((e=>(z.delete(t),e)))),z.get(t)}const V=new Map;function j(t){return V.has(t)||V.set(t,y().get(b+"/likernft/metadata",{params:{class_id:t}}).then((e=>(V.delete(t),e)))),V.get(t)}var x={name:"NftSocialGraph",data(){return{type:"collector",account:"like13f4glvg80zvfrrs7utft5p68pct4mcq7t5atf6",responseType:"",response:[],ignoreList:O}},methods:{async load(){if("collector"===this.type){const t=await y().get(m+"/likechain/likenft/v1/collector",{params:{creator:this.account,reverse:!0}});this.response=t.data.collectors,this.responseType="Collectors",this.response=await this.aggregate(this.response)}if("creator"===this.type){const t=await y().get(m+"/likechain/likenft/v1/creator",{params:{collector:this.account,reverse:!0}});this.response=t.data.creators,this.responseType="Creators",this.response=await this.aggregate(this.response)}},async aggregate(t){const e=[],n=[];return t.filter((t=>!this.ignoreList.includes(t.account))).forEach((t=>{const o={account:t.account,collections:[],count:t.count,totalValue:0};t.collections.forEach((({iscn_id_prefix:t,class_id:n,count:r})=>{let a={iscn_id_prefix:t,class_id:n,count:r};e.push(T(n).then((t=>{const{lastSoldPrice:e}=t.data;return a.price=e,a.totalValue=r*e,o.totalValue+=r*e,j(n)})).then((t=>{a={...a,...t.data}})).catch((e=>{console.error(e.message,t,n),a.price=0,a.totalValue=0})).finally((()=>{o.collections.push(a)})))})),n.push(o)})),await Promise.all(e),n.sort(((t,e)=>e.totalValue-t.totalValue))}}},C=n(89);const D=(0,C.Z)(x,[["render",w]]);var L=D;(0,o.ri)(L).mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,a){if(!o){var l=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],a=t[u][2];for(var c=!0,i=0;i<o.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(c=!1,a<l&&(l=a));if(c){t.splice(u--,1);var s=r();void 0!==s&&(e=s)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[o,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,a,l=o[0],c=o[1],i=o[2],s=0;if(l.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(i)var u=i(n)}for(e&&e(o);s<l.length;s++)a=l[s],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},o=self["webpackChunklikenft_social_graph"]=self["webpackChunklikenft_social_graph"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6154)}));o=n.O(o)})();
//# sourceMappingURL=app.4fe27e17.js.map